import{a as j,q as f,v as B,j as e,p as C,_ as b,i as v,g as s}from"./index-DsZ-KJuj.js";import{u as y,T as $}from"./Tag-CoX8ThZN.js";import{u as D,B as c,a as O,b as T}from"./BookingDataBox-EX34bKsN.js";import{u as w}from"./useDeleteBooking-BwOKoke5.js";import{M as r,C as M}from"./ConfirmDelete-CI0Al_Jg.js";import{E}from"./ErrorMsg-Hn_diU6q.js";import{R as d}from"./Row-z4ch16rx.js";import"./apiBookings-D9ZCHV-r.js";import"./constants-BUW7qVOF.js";import"./helpers-WI_EYfvg.js";import"./Flag-BFCstyKd.js";import"./format-D35EthT5.js";import"./isToday-BrluQVH3.js";const F=j.div`
  display: flex;
  gap: 2.4rem;
  align-items: center;
  @media (max-width: 430px) {
    flex-direction: column;
  }
`;function N(){const{booking:t,bookingId:a,isLoading:l,error:u}=D(),m=f(),{checkOut:k,isCheckingOut:g}=y(),{deleteFn:x,isDeleting:h}=w(-1),o=B(),p={unconfirmed:"blue","checked-in":"green","checked-out":"silver"};if(l)return e.jsx(C,{});if(u)return b.error("Booking detail can't be loaded",{duration:5e3}),e.jsxs(d,{$type:"vertical",children:[e.jsx(c,{onClick:o,style:{width:"fit-content",alignSelf:"end"},children:"← Back"}),e.jsx(E,{faildFor:`booking #${a}`,queryKey:["booking",a]})]});const{status:i="",id:n}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(d,{$type:"horizontal",children:[e.jsxs(F,{children:[e.jsxs(v,{as:"h1",children:["Booking #",n]}),e.jsx($,{$type:p[i],children:i.replace("-"," ")})]}),e.jsx(c,{onClick:o,children:"← Back"})]}),e.jsx(O,{booking:t}),e.jsxs(T,{children:[i==="unconfirmed"&&e.jsx(s,{onClick:()=>m(`/checkin/${n}`),children:"Check in"}),i==="checked-in"&&e.jsx(s,{onClick:()=>k(n),disabled:g,children:"Check Out"}),e.jsxs(r,{children:[e.jsx(r.Open,{opens:"delete-booking",children:e.jsx(s,{$variation:"danger",onClick:o,children:"Delete"})}),e.jsx(r.Window,{name:"delete-booking",children:e.jsx(M,{resourceName:"Booking",onConfirm:()=>x(n),disabled:h})})]}),e.jsx(s,{$variation:"secondary",onClick:o,children:"Back"})]})]})}function P(){return e.jsx(N,{})}export{P as default};
