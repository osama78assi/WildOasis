import{a as j,q as f,v as B,j as e,p as C,_ as b,i as v,g as r}from"./index-CTXLcj4T.js";import{u as y,T as $}from"./Tag-CoZDZ3ic.js";import{u as D,B as c,a as O,b as T}from"./BookingDataBox-BxsPOBg1.js";import{u as w}from"./useDeleteBooking-iffCu6pp.js";import{M as s,C as M}from"./ConfirmDelete-U-DQD4lO.js";import{E}from"./ErrorMsg-BBbHNTyV.js";import{R as d}from"./Row-DJ7VZngJ.js";import"./apiBookings-BZcizHZ7.js";import"./constants-BUW7qVOF.js";import"./helpers-BuJpLv72.js";import"./Flag-zG777W3T.js";import"./format-C2OtfDDC.js";import"./isToday-DdsJfKPO.js";const F=j.div`
  display: flex;
  gap: 2.4rem;
  align-items: center;
  @media (max-width: 430px) {
    flex-direction: column;
  }
`;function N(){const{booking:t,bookingId:a,isLoading:l,error:m}=D(),u=f(),{checkOut:k,isCheckingOut:g}=y(),{deleteFn:x,isDeleting:h}=w(-1),i=B(),p={unconfirmed:"blue","checked-in":"green","checked-out":"silver"};if(l)return e.jsx(C,{});if(m)return b.error("Booking detail can't be loaded",{duration:5e3}),e.jsxs(d,{$type:"vertical",style:{padding:"1rem 0rem"},children:[e.jsx(c,{onClick:i,style:{width:"fit-content",alignSelf:"end"},children:"← Back"}),e.jsx(E,{faildFor:`booking #${a}`,queryKey:["booking",a]})]});const{status:o="",id:n}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(d,{$type:"horizontal",children:[e.jsxs(F,{children:[e.jsxs(v,{as:"h1",children:["Booking #",n]}),e.jsx($,{$type:p[o],children:o.replace("-"," ")})]}),e.jsx(c,{onClick:i,children:"← Back"})]}),e.jsx(O,{booking:t}),e.jsxs(T,{children:[o==="unconfirmed"&&e.jsx(r,{onClick:()=>u(`/checkin/${n}`),children:"Check in"}),o==="checked-in"&&e.jsx(r,{onClick:()=>k(n),disabled:g,children:"Check Out"}),e.jsxs(s,{children:[e.jsx(s.Open,{opens:"delete-booking",children:e.jsx(r,{$variation:"danger",onClick:i,children:"Delete"})}),e.jsx(s.Window,{name:"delete-booking",children:e.jsx(M,{resourceName:"Booking",onConfirm:()=>x(n),disabled:h})})]}),e.jsx(r,{$variation:"secondary",onClick:i,children:"Back"})]})]})}function P(){return e.jsx(N,{})}export{P as default};
